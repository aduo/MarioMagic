　　在大学的学习常使我感到受了骗。最吸引我的软件是游戏，但听老师的话，所谓打好C语言的基础写什么程序也不是问题。若在生气时想到此话，我简直会觉得它是一派胡言。当我自认为已差不多掌握了C/C++基础时，堆在我面前的项目却无非××管理系统之类，似乎它们才是打好编程基础的唯一意图。

　　我并不甘心。但我也没有雄心壮志。我确实有幻想过一夜写出一个FPS游戏，但如果连游戏机上的游戏都不能做，我想不出这种一步登天要有多少水分。当我学了图形程序库，力图复刻超级玛丽那样的游戏时，却发现自己笨到做不出。

　　一次偶然机会，我得到了一份最早版本超级玛丽的源码，又查到了大量资料。之后我又自学了一些逆向工程技术，用Flash反编译器和IDA分析了几款经典的马里奥式的卷轴闯关游戏。分析它们让我感到惊奇，我从未想到，那些用着连乘法指令都没有的芯片们的前辈，竟能想到如此多服务于这类游戏的神奇办法。

　　后面的文章就是来讲解这些“黑魔法”的。看完它们，你会知道那些老游戏到底是怎样实现的，甚至还能自己造一个出来。 :)

---

注

1.由于这些总结源于老游戏，为了如实说明，会用到一些老技术，但它们并非现代游戏必须。比如

- 现代游戏常用float类型存储玩家的位置、速度，而老游戏（由于芯片本身不支持小数计算）常用多个byte模拟定点小数。
- 现代游戏直接使用sin和cos等函数计算三角函数值，而老游戏（由于芯片本身只支持加减法）把三角函数的值放到数组里以供查阅，甚至把乘法的结果也做成查阅数组。

2.使用Processing作为演示语言，它是一门基于Java的图形编程语言。

3.虽然也用到class等OO概念，但我只是用它们组装数据结构，如用class模拟C语言里的结构体。你会看到演示代码里的OO设计并不“标准”。
